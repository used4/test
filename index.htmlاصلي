<!DOCTYPE html>
<html dir='rtl'>
<head>
<meta charset='UTF-8'>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Player</title>
<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<style>
body,html{margin:0;padding:0;overflow:hidden;background:#000;height:100%;width:100%;}
#player-container{position:absolute;top:0;left:0;width:100%;height:100%;}
#video-wrapper{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background:#000;}
#video{width:100%;height:100%;object-fit:contain;}
#loading-spinner{width:60px;height:60px;border:5px solid rgba(255,255,255,0.2);border-top-color:#ffc107;border-radius:50%;animation:spin 1s linear infinite;position:absolute;z-index:100;display:block;top:50%;left:50%;transform:translate(-50%,-50%);}
@keyframes spin{to{transform:translate(-50%,-50%) rotate(360deg);}}
#error-overlay{position:absolute;z-index:100;inset:0;background-color:rgba(0,0,0,0.85);color:#fff;display:none;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:20px;}
.controls-overlay{position:absolute;z-index:10;transition:opacity 0.3s;opacity:0;visibility:hidden;pointer-events:none;}
.controls-overlay.visible{opacity:1;visibility:visible;pointer-events:auto;}
#bottom-controls-container{bottom:10px;left:10px;right:10px;padding:15px;background:rgba(255,255,255,0.1);backdrop-filter:blur(15px);border-radius:15px;border:1px solid rgba(255,255,255,0.2);}
#center-controls{top:50%;left:50%;transform:translate(-50%,-50%);}
.center-controls-cluster{display:flex;align-items:center;gap:40px;background:rgba(255,255,255,0.1);backdrop-filter:blur(15px);padding:15px 25px;border-radius:50px;border:1px solid rgba(255,255,255,0.2);}
.control-button,.center-control-button{background:none;border:none;color:#fff;cursor:pointer;padding:0;outline:none;transition:all 0.2s;}
.control-button i,.center-control-button i{width:24px;height:24px;}
.center-control-button i{width:42px;height:42px;}
.center-seek-button i{width:32px;height:32px;}
.progress-bar-container{width:100%;padding:10px 0;}
.progress-bar{width:100%;height:6px;background-color:rgba(255,255,255,0.3);border-radius:3px;overflow:hidden;}
.progress-played{width:0%;height:100%;background:linear-gradient(90deg,#ffc107,#ffa36c);border-radius:3px;transition:width 0.1s;}
.bottom-controls{display:flex;justify-content:space-between;align-items:center;width:100%;}
.controls-left,.controls-right{display:flex;align-items:center;gap:15px;}
#time-display-container{color:#fff;font-size:0.9em;min-width:50px;text-align:center;}
#settings-popup{position:absolute;bottom:80px;right:20px;width:200px;background:rgba(40,40,40,0.9);backdrop-filter:blur(15px);border-radius:15px;z-index:20;display:none;border:1px solid rgba(255,255,255,0.2);overflow:hidden;}
.settings-header{display:flex;justify-content:space-between;align-items:center;padding:12px 15px;border-bottom:1px solid rgba(255,255,255,0.1);}
.menu-item{display:flex;align-items:center;gap:10px;padding:12px 15px;cursor:pointer;color:#fff;transition:background-color 0.2s;border-bottom:1px solid rgba(255,255,255,0.05);}
.menu-item:last-child{border-bottom:none;}
.menu-item:hover{background-color:rgba(255,255,255,0.1);}
.volume-container{display:flex;align-items:center;gap:8px;}
.volume-slider{width:80px;height:5px;background:rgba(255,255,255,0.3);border-radius:3px;outline:none;-webkit-appearance:none;opacity:1;}
.volume-container:hover .volume-slider{opacity:1;}
.volume-slider::-webkit-slider-thumb{-webkit-appearance:none;width:15px;height:15px;border-radius:50%;background:white;cursor:pointer;}
#channels-overlay{position:absolute;top:20px;left:20px;right:20px;z-index:15;transition:opacity 0.3s;opacity:0;visibility:hidden;pointer-events:none;}
#channels-overlay.visible{opacity:1;visibility:visible;pointer-events:auto;}
#channels-container{display:flex;align-items:center;gap:10px;overflow-x:auto;padding:10px 15px;background:rgba(0,0,0,0.7);backdrop-filter:blur(15px);border-radius:15px;border:1px solid rgba(255,255,255,0.2);max-width:100%;}
.channel-item{flex:0 0 auto;padding:8px 15px;background:rgba(255,255,255,0.1);border-radius:20px;color:#fff;cursor:pointer;transition:all 0.2s;white-space:nowrap;border:1px solid transparent;font-size:0.9em;}
.channel-item:hover{background:rgba(255,255,255,0.2);}
.channel-item.active{background:rgba(255,193,7,0.3);color:#ffc107;border-color:#ffc107;}
.channel-item.error{background:rgba(255,0,0,0.2);color:#ff6b6b;border-color:#ff6b6b;}
#channels-toggle{position:absolute;top:20px;left:20px;z-index:15;background:rgba(0,0,0,0.7);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,0.2);border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;transition:all 0.3s;}
#channels-toggle:hover{background:rgba(255,255,255,0.2);}
</style>
</head>
<body>

<div id="player-container">
<div id="loading-spinner"></div>
<div id="error-overlay">
<i data-feather="alert-triangle"></i>
<h3 id="error-title">فشل تحميل البث</h3>
<p id="error-message">قد يكون البث متوقف حاليًا أو توجد مشكلة في الشبكة.</p>
</div>
<div id="channels-toggle">
<i data-feather="list"></i>
</div>
<div id="channels-overlay">
<div id="channels-container">
</div>
</div>
<div id="video-wrapper">
<video autoplay id='video'></video>
</div>
<div id="settings-popup">
<div class="settings-header">
<span>الإعدادات</span>
<span class="settings-close-btn"><i data-feather="x"></i></span>
</div>
<ul id="settings-list">
<li class="menu-item" id="quality-menu-item">
<i data-feather="layers"></i>
<span>جودة البث</span>
<span class="menu-item-value" id="current-quality">Auto</span>
</li>
<li class="menu-item" id="fit-screen-menu-item">
<i data-feather="maximize"></i>
<span>ملء الشاشة</span>
<span class="menu-item-value" id="fit-screen-status">معطل</span>
</li>
</ul>
</div>
<div id="center-controls" class="controls-overlay">
<div class="center-controls-cluster">
<button class="control-button center-seek-button" id="seek-backward-btn"><i data-feather="rewind"></i></button>
<button class="center-control-button" id="play-pause-center-btn"><i data-feather="play"></i></button>
<button class="control-button center-seek-button" id="seek-forward-btn"><i data-feather="fast-forward"></i></button>
</div>
</div>
<div id="bottom-controls-container" class="controls-overlay">
<div class="progress-bar-container">
<div class="progress-bar">
<div class="progress-played"></div>
</div>
</div>
<div class="bottom-controls">
<div class="controls-left">
<button class="control-button" id="fullscreen-btn"><i data-feather="maximize"></i></button>
<button class="control-button" id="fit-screen-btn">
<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
<path d="M12 8v8"></path>
<path d="M8 12h8"></path>
</svg>
</button>
<button id="settings-btn" class="control-button"><i data-feather="settings"></i></button>
</div>
<div class="controls-right">
<div id="time-display-container">00:00</div>
<div class="volume-container">
<button class="control-button" id="mute-btn"><i data-feather="volume-2"></i></button>
<input type="range" min="0" max="100" value="100" class="volume-slider" id="volume-slider">
</div>
<button class="control-button" id="play-pause-btn"><i data-feather="play"></i></button>
</div>
</div>
</div>
</div>

<script>
// تشغيل الفيديو مباشرة عند تحميل الصفحة
window.addEventListener('load', function() {
    // تعريف المتغيرات
    const e = {
        video: document.getElementById('video'),
        playerContainer: document.getElementById('player-container'),
        centerControls: document.getElementById('center-controls'),
        bottomControls: document.getElementById('bottom-controls-container'),
        playPauseBtn: document.getElementById('play-pause-btn'),
        playPauseCenterBtn: document.getElementById('play-pause-center-btn'),
        muteBtn: document.getElementById('mute-btn'),
        volumeSlider: document.getElementById('volume-slider'),
        fullscreenBtn: document.getElementById('fullscreen-btn'),
        fitScreenBtn: document.getElementById('fit-screen-btn'),
        timeDisplay: document.getElementById('time-display-container'),
        settingsBtn: document.getElementById('settings-btn'),
        settingsPopup: document.getElementById('settings-popup'),
        settingsList: document.getElementById('settings-list'),
        settingsCloseBtn: document.querySelector('.settings-close-btn'),
        loadingSpinner: document.getElementById('loading-spinner'),
        errorOverlay: document.getElementById('error-overlay'),
        errorTitle: document.getElementById('error-title'),
        errorMessage: document.getElementById('error-message'),
        seekBackwardBtn: document.getElementById('seek-backward-btn'),
        seekForwardBtn: document.getElementById('seek-forward-btn'),
        qualityMenuItem: document.getElementById('quality-menu-item'),
        currentQuality: document.getElementById('current-quality'),
        fitScreenMenuItem: document.getElementById('fit-screen-menu-item'),
        fitScreenStatus: document.getElementById('fit-screen-status'),
        videoWrapper: document.getElementById('video-wrapper'),
        channelsContainer: document.getElementById('channels-container'),
        channelsOverlay: document.getElementById('channels-overlay'),
        channelsToggle: document.getElementById('channels-toggle')
    };

    const channels = [
        { name: "beIN Sports 1", url: "https://py.dencreak.com/bn_s_fhd1.m3u8" },
        { name: "beIN Sports 2", url: "https://py.dencreak.com/bn_s_fhd2.m3u8" },
        { name: "beIN Sports 3", url: "https://py.dencreak.com/bn_s_fhd3.m3u8" },
        { name: "beIN Sports 4", url: "https://py.dencreak.com/bn_s_fhd4.m3u8" },
        { name: "beIN Sports 5", url: "https://py.dencreak.com/bn_s_fhd5.m3u8" },
        { name: "beIN Sports 6", url: "https://py.dencreak.com/bn_s_fhd6.m3u8" },
        { name: "beIN Sports 7", url: "https://py.dencreak.com/bn_s_fhd7.m3u8" },
        { name: "beIN Sports 8", url: "https://py.dencreak.com/bn_s_fhd8.m3u8" },
        { name: "beIN Sports 9", url: "https://py.dencreak.com/bn_s_fhd9.m3u8" },
        { name: "Alkass 1", url: "https://liveeu-gcp.alkassdigital.net/alkass1-p/main.m3u8" },
        { name: "Alkass 2", url: "https://liveeu-gcp.alkassdigital.net/alkass2-p/main.m3u8" },
        { name: "Alkass 3", url: "https://liveeu-gcp.alkassdigital.net/alkass3-p/main.m3u8" },
        { name: "Alkass 4", url: "https://liveeu-gcp.alkassdigital.net/alkass4-p/main.m3u8" },
        { name: "Alkass 5", url: "https://liveeu-gcp.alkassdigital.net/alkass5-p/main.m3u8" },
        { name: "Alkass 6", url: "https://liveeu-gcp.alkassdigital.net/alkass6-p/main.m3u8" },
         ];

    let t, n, o = false, i = [], l = !1;
    let currentChannelUrl = channels[0].url;
    let channelsVisible = false;

    function createChannelsList() {
        channels.forEach((channel, index) => {
            const channelItem = document.createElement('div');
            channelItem.className = 'channel-item';
            channelItem.textContent = channel.name;
            channelItem.dataset.url = channel.url;
            channelItem.dataset.index = index;
            channelItem.addEventListener('click', function(event) {
                event.stopPropagation();
                document.querySelectorAll('.channel-item').forEach(item => {
                    item.classList.remove('active');
                });
                channelItem.classList.add('active');
                loadChannel(channel.url, channelItem);
                hideChannels();
            });
            e.channelsContainer.appendChild(channelItem);
        });
    }

    function toggleChannels() {
        if (channelsVisible) {
            hideChannels();
        } else {
            showChannels();
        }
    }

    function showChannels() {
        e.channelsOverlay.classList.add('visible');
        channelsVisible = true;
        s();
    }

    function hideChannels() {
        e.channelsOverlay.classList.remove('visible');
        channelsVisible = false;
    }

    async function loadVideo(channelUrl = currentChannelUrl, channelElement = null) {
        currentChannelUrl = channelUrl;
        e.loadingSpinner.style.display = "block";
        e.errorOverlay.style.display = "none";

        if (channelElement) {
            channelElement.classList.remove('error');
        }

        e.video.pause();
        e.video.src = '';
        e.video.currentTime = 0;
        document.querySelector('.progress-played').style.width = '0%';
        e.timeDisplay.textContent = '00:00';

        if (n) {
            try {
                n.destroy();
            } catch (err) {
                console.log('Error destroying HLS instance:', err);
            }
            n = null;
        }

        // ضبط الصوت على 100%
        e.video.volume = 1.0;
        e.volumeSlider.value = 100;
        e.video.muted = false;

        if (e.video.canPlayType("application/vnd.apple.mpegurl")) {
            console.log('Using native HLS support for:', channelUrl);
            e.video.src = channelUrl;

            e.video.addEventListener('loadeddata', function() {
                console.log('Video loaded successfully');
                e.loadingSpinner.style.display = "none";
                s();
            });

            e.video.addEventListener('error', function(err) {
                console.error('Video error:', err);
                if (channelElement) {
                    channelElement.classList.add('error');
                }
                a("فشل تحميل البث", "المصدر غير متاح أو به مشكلة.");
            });

        } else if (Hls.isSupported()) {
            console.log('Using HLS.js for:', channelUrl);
            n = new Hls({
                debug: false,
                enableWorker: true,
                lowLatencyMode: true,
                backBufferLength: 90,
                maxBufferLength: 30,
                liveSyncDurationCount: 3
            });

            n.loadSource(channelUrl);
            n.attachMedia(e.video);

            n.on(Hls.Events.MANIFEST_PARSED, function(event, data) {
                i = n.levels;
                c();
                console.log("Manifest parsed for:", channelUrl, data);
            });

            n.on(Hls.Events.LEVEL_LOADED, function(event, data) {
                console.log("Level loaded:", data);
                e.loadingSpinner.style.display = "none";
                h();
                s();
            });

            n.on(Hls.Events.LEVEL_SWITCHED, function(event, data) {
                c();
            });

            n.on(Hls.Events.ERROR, function(event, data) {
                console.error("HLS Error:", data);
                if (data.fatal) {
                    switch (data.type) {
                        case Hls.ErrorTypes.NETWORK_ERROR:
                            console.error("Network error for channel:", channelUrl);
                            if (channelElement) {
                                channelElement.classList.add('error');
                            }
                            a("خطأ في الشبكة", "تعذر الاتصال بالبث. تحقق من اتصالك بالإنترنت.");
                            break;
                        case Hls.ErrorTypes.MEDIA_ERROR:
                            console.error("Media error for channel:", channelUrl);
                            if (channelElement) {
                                channelElement.classList.add('error');
                            }
                            a("خطأ في الوسائط", "هناك مشكلة في تشغيل البث.");
                            n.recoverMediaError();
                            break;
                        default:
                            console.error("Other error for channel:", channelUrl);
                            if (channelElement) {
                                channelElement.classList.add('error');
                            }
                            a("فشل تحميل البث", "المصدر غير متاح أو به مشكلة.");
                    }
                }
            });
        } else {
            console.error('HLS not supported');
            a("خطأ", "المتصفح لا يدعم تشغيل هذا النوع من البث.");
        }

        try {
            await e.video.play();
            console.log('Video playing successfully');
            e.loadingSpinner.style.display = "none";
            s();
        } catch (error) {
            console.error("Play error:", error);
            e.loadingSpinner.style.display = "none";
            s();
        }
    }

    function loadChannel(channelUrl, channelElement) {
        console.log("Loading channel:", channelUrl);
        loadVideo(channelUrl, channelElement);
    }

    function c() {
        if (!n) return;
        const currentLevel = n.currentLevel;
        if (currentLevel === -1) {
            e.currentQuality.textContent = "Auto";
        } else if (i[currentLevel]) {
            const level = i[currentLevel];
            if (level.height) {
                e.currentQuality.textContent = `${level.height}p`;
            } else if (level.bitrate) {
                e.currentQuality.textContent = `${Math.round(level.bitrate / 1000)}kbps`;
            } else {
                e.currentQuality.textContent = `Level ${currentLevel}`;
            }
        }
    }

    e.qualityMenuItem.addEventListener("click", function() {
        if (!n || 0 === i.length) return;
        const r = document.createElement("div");
        r.style.cssText = "position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(40,40,40,0.9);backdrop-filter:blur(15px);padding:15px;z-index:30;overflow-y:auto;";
        r.innerHTML = '<div style="display:flex;align-items:center;gap:10px;padding:10px;cursor:pointer;margin-bottom:15px;border-radius:8px;transition:background 0.2s;"><i data-feather="arrow-right"></i><span>رجوع</span></div><div style="font-weight:bold;font-size:1.1em;margin-bottom:15px;padding:0 10px;color:white;">اختر جودة البث</div>';
        const c = r.querySelector("div");
        c.addEventListener("click", function() {
            r.remove();
        });
        c.addEventListener("mouseenter", function() {
            this.style.background = "rgba(255,255,255,0.1)";
        });
        c.addEventListener("mouseleave", function() {
            this.style.background = "transparent";
        });

        const a = document.createElement("div");
        a.style.cssText = `display:flex;align-items:center;justify-content:space-between;padding:12px 15px;cursor:pointer;border-radius:8px;margin-bottom:5px;transition:background 0.2s;${-1 === n.currentLevel ? "color:#ffc107;font-weight:bold;background:rgba(255,193,7,0.1);" : "color:white;"}`;
        a.innerHTML = `<span>تلقائي (Auto)</span>${-1 === n.currentLevel ? '<i data-feather="check" class="checkmark"></i>' : ""}`;
        a.addEventListener("click", function() {
            n.currentLevel = -1;
            c();
            r.remove();
            s();
        });
        a.addEventListener("mouseenter", function() {
            -1 !== n.currentLevel && (this.style.background = "rgba(255,255,255,0.1)");
        });
        a.addEventListener("mouseleave", function() {
            -1 !== n.currentLevel && (this.style.background = "transparent");
        });
        r.appendChild(a);

        i.forEach((t, o) => {
            const i = document.createElement("div");
            let l;
            l = t.height ? `${t.height}p` : t.bitrate ? `${Math.round(t.bitrate / 1e3)}kbps` : `Level ${o}`;
            i.style.cssText = `display:flex;align-items:center;justify-content:space-between;padding:12px 15px;cursor:pointer;border-radius:8px;margin-bottom:5px;transition:background 0.2s;${n.currentLevel === o ? "color:#ffc107;font-weight:bold;background:rgba(255,193,7,0.1);" : "color:white;"}`;
            i.innerHTML = `<span>${l}</span>${n.currentLevel === o ? '<i data-feather="check" class="checkmark"></i>' : ""}`;
            i.addEventListener("click", function() {
                n.currentLevel = o;
                c();
                r.remove();
                s();
            });
            i.addEventListener("mouseenter", function() {
                n.currentLevel !== o && (this.style.background = "rgba(255,255,255,0.1)");
            });
            i.addEventListener("mouseleave", function() {
                n.currentLevel !== o && (this.style.background = "transparent");
            });
            r.appendChild(i);
        });

        e.settingsPopup.appendChild(r);
        feather.replace();
    });

    function a(errorTitle, errorMessage) {
        e.errorTitle.textContent = errorTitle;
        e.errorMessage.textContent = errorMessage;
        e.loadingSpinner.style.display = "none";
        e.errorOverlay.style.display = "flex";
        feather.replace();
    }

    const s = () => {
        [e.bottomControls, e.centerControls].forEach(control => {
            control.classList.add("visible");
        });
        clearTimeout(t);
        if (!e.video.paused) {
            t = setTimeout(() => {
                if (e.settingsPopup.style.display != "block" && !channelsVisible) {
                    [e.bottomControls, e.centerControls].forEach(control => {
                        control.classList.remove("visible");
                    });
                }
            }, 3000);
        }
    };

    const d = () => {
        e.video.paused ? e.video.play() : e.video.pause();
        s();
    };

    const u = () => {
        const icon = e.video.paused ? "play" : "pause";
        e.playPauseBtn.innerHTML = `<i data-feather="${icon}"></i>`;
        e.playPauseCenterBtn.innerHTML = `<i data-feather="${icon}"></i>`;
        feather.replace();
        s();
    };

    const h = () => {
        const icon = e.video.muted ? "volume-x" : "volume-2";
        e.muteBtn.innerHTML = `<i data-feather="${icon}"></i>`;
        feather.replace();
        s();
    };

    function m() {
        o = !o;
        if (o) {
            e.video.style.objectFit = "cover";
            e.videoWrapper.classList.remove("video-contain");
            e.fitScreenBtn.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><path d="M12 8v8"></path><path d="M8 12h8"></path></svg>';
            e.fitScreenStatus.textContent = "مفعل";
        } else {
            e.video.style.objectFit = "contain";
            e.videoWrapper.classList.add("video-contain");
            e.fitScreenBtn.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><path d="M8 12h8"></path></svg>';
            e.fitScreenStatus.textContent = "معطل";
        }
        s();
    }

    async function f() {
        if (document.fullscreenElement) {
            await document.exitFullscreen();
        } else {
            await e.playerContainer.requestFullscreen();
        }
        s();
    }

    function p() {
        const icon = document.fullscreenElement ? "minimize" : "maximize";
        e.fullscreenBtn.innerHTML = `<i data-feather="${icon}"></i>`;
        feather.replace();
    }

    function g(time) {
        if (time < 0 || isNaN(time)) return "00:00";
        const minutes = Math.floor(time / 60).toString().padStart(2, "0");
        const seconds = Math.floor(time % 60).toString().padStart(2, "0");
        return `${minutes}:${seconds}`;
    }

    e.video.addEventListener("timeupdate", () => {
        e.timeDisplay.textContent = g(e.video.currentTime);
        const progress = (e.video.currentTime / e.video.duration) * 100;
        document.querySelector('.progress-played').style.width = progress + '%';
    });

    e.playPauseBtn.onclick = d;
    e.playPauseCenterBtn.onclick = d;
    e.muteBtn.onclick = () => {
        e.video.muted = !e.video.muted;
        s();
    };
    e.volumeSlider.addEventListener("input", function() {
        e.video.volume = this.value / 100;
        e.video.muted = false;
        h();
    });
    e.fullscreenBtn.onclick = f;
    e.settingsBtn.onclick = () => {
        e.settingsPopup.style.display = "block";
        s();
    };
    e.settingsCloseBtn.onclick = () => {
        e.settingsPopup.style.display = "none";
        e.settingsPopup.querySelectorAll("div").forEach(element => {
            if (element !== e.settingsList && element !== e.settingsPopup.querySelector(".settings-header")) {
                element.remove();
            }
        });
        s();
    };
    e.seekBackwardBtn.onclick = () => {
        e.video.currentTime -= 10;
        s();
    };
    e.seekForwardBtn.onclick = () => {
        e.video.currentTime += 10;
        s();
    };
    e.fitScreenBtn.onclick = m;
    e.fitScreenMenuItem.onclick = m;
    e.channelsToggle.addEventListener('click', function(event) {
        event.stopPropagation();
        toggleChannels();
    });
    e.video.addEventListener("play", u);
    e.video.addEventListener("pause", u);
    e.video.addEventListener("volumechange", h);
    document.addEventListener("fullscreenchange", p);
    e.playerContainer.addEventListener("mousemove", s);
    e.playerContainer.addEventListener("touchstart", s);
    e.playerContainer.addEventListener("click", function() {
        if (channelsVisible) {
            hideChannels();
        }
    });

    createChannelsList();
    
    // تشغيل القناة الأولى تلقائياً عند تحميل الصفحة
    setTimeout(() => {
        const firstChannel = document.querySelector('.channel-item');
        if (firstChannel) {
            firstChannel.classList.add('active');
        }
        loadVideo(); // تشغيل القناة الأولى تلقائياً
    }, 500);

    feather.replace();
});
</script>
  
</body>
</html>
